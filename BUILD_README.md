# Инструкция по сборке установщика SkimNote

Этот документ содержит инструкции по созданию установщика для программы SkimNote.

## Требования

### 1. Python 3.8+
Убедитесь, что у вас установлен Python 3.8 или выше.

### 2. PyInstaller
Будет установлен автоматически при первом запуске скрипта сборки.

### 3. Inno Setup
Скачайте и установите Inno Setup с официального сайта:
https://jrsoftware.org/isinfo.php

Рекомендуется версия 6.x.

## Быстрая сборка

Для автоматической сборки всего установщика выполните:

```bash
python build_installer.py
```

Этот скрипт автоматически:
1. Проверит все требования
2. Установит PyInstaller (если нужно)
3. Соберет исполняемый файл
4. Создаст установщик
5. Очистит временные файлы

## Пошаговая сборка

Если вы хотите выполнить сборку пошагово:

### Шаг 1: Сборка исполняемого файла
```bash
python build_exe.py
```

### Шаг 2: Создание установщика
```bash
iscc installer.iss
```

## Структура файлов

После сборки у вас будет следующая структура:

```
SkimNote/
├── dist/
│   └── SkimNote.exe          # Исполняемый файл
├── installer/
│   └── SkimNote_Setup.exe    # Установщик
├── build_exe.py              # Скрипт сборки exe
├── build_installer.py        # Главный скрипт сборки
├── installer.iss             # Скрипт Inno Setup
├── LICENSE.txt               # Лицензия
└── BUILD_README.md           # Этот файл
```

## Особенности установщика

Созданный установщик включает:

- ✅ Автоматическую установку в системную папку
- ✅ Создание ярлыка на рабочем столе (опционально)
- ✅ Создание ярлыка в меню "Пуск"
- ✅ Показ лицензионного соглашения
- ✅ Возможность удаления через "Программы и компоненты"
- ✅ Современный интерфейс установки
- ✅ Поддержка русского и английского языков

## Устранение неполадок

### Ошибка "PyInstaller не найден"
Скрипт автоматически установит PyInstaller. Если установка не удалась, выполните:
```bash
pip install pyinstaller
```

### Ошибка "Inno Setup не найден"
Убедитесь, что Inno Setup установлен в одной из стандартных папок:
- `C:\Program Files (x86)\Inno Setup 6\`
- `C:\Program Files\Inno Setup 6\`
- `C:\Program Files (x86)\Inno Setup 5\`
- `C:\Program Files\Inno Setup 5\`

### Ошибка при сборке exe
Проверьте, что все зависимости установлены:
```bash
pip install -r requirements.txt
```

### Большой размер установщика
Это нормально для PyQt6 приложений. Размер может составлять 50-100 МБ.

## Настройка

### Изменение версии
Отредактируйте файл `installer.iss`:
```ini
AppVersion=1.02
```

### Изменение информации о разработчике
Отредактируйте файл `installer.iss`:
```ini
AppPublisher=Ваша Компания
AppPublisherURL=https://ваш-сайт.com
```

### Добавление дополнительных файлов
Добавьте в секцию `[Files]` файла `installer.iss`:
```ini
Source: "путь\к\файлу"; DestDir: "{app}"; Flags: ignoreversion
```

## Распространение

После успешной сборки файл `installer/SkimNote_Setup.exe` готов к распространению.

Рекомендуется:
1. Протестировать установщик на чистой системе
2. Проверить работу всех функций программы
3. Убедиться, что удаление работает корректно

## Поддержка

При возникновении проблем:
1. Проверьте все требования
2. Убедитесь, что все файлы проекта на месте
3. Попробуйте очистить папки `build`, `dist`, `__pycache__`
4. Перезапустите скрипт сборки 